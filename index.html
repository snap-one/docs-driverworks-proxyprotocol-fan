
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Driverworks Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-4e483f2e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

  </head>

  <body class="index" data-languages="[&quot;lua&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-3056e635.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="lua">lua</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#license-copyright-and-trademark" class="toc-h1 toc-link" data-title="License, Copyright, and Trademark">License, Copyright, and Trademark</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-proxies-commands" class="toc-h2 toc-link" data-title="Proxies (Commands)">Proxies (Commands)</a>
                  </li>
                  <li>
                    <a href="#introduction-protocol-notifications" class="toc-h2 toc-link" data-title="Protocol (Notifications)">Protocol (Notifications)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#what-s-new" class="toc-h1 toc-link" data-title="What’s New">What’s New</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-2" class="toc-h2 toc-link" data-title="What’s New in 3.4.2">What’s New in 3.4.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-1" class="toc-h2 toc-link" data-title="What’s New in 3.4.1">What’s New in 3.4.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-0" class="toc-h2 toc-link" data-title="What’s New in 3.4.0">What’s New in 3.4.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-2" class="toc-h2 toc-link" data-title="What’s New in 3.3.2">What’s New in 3.3.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-1" class="toc-h2 toc-link" data-title="What’s New in 3.3.1">What’s New in 3.3.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-0" class="toc-h2 toc-link" data-title="What’s New in 3.3.0">What’s New in 3.3.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-3" class="toc-h2 toc-link" data-title="What’s New in 3.2.3">What’s New in 3.2.3</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-2" class="toc-h2 toc-link" data-title="What’s New in 3.2.2">What’s New in 3.2.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-1" class="toc-h2 toc-link" data-title="What’s New in 3.2.1">What’s New in 3.2.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-0" class="toc-h2 toc-link" data-title="What’s New in 3.2.0">What’s New in 3.2.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-2" class="toc-h2 toc-link" data-title="What was New in 3.1.2">What was New in 3.1.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-0" class="toc-h2 toc-link" data-title="What was New in 3.1.0">What was New in 3.1.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-o-s-3" class="toc-h2 toc-link" data-title="What was New in O.S.3">What was New in O.S.3</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-proxy-commands" class="toc-h1 toc-link" data-title="Fan Proxy Commands">Fan Proxy Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-proxy-commands-on" class="toc-h2 toc-link" data-title="ON">ON</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-off" class="toc-h2 toc-link" data-title="OFF">OFF</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-toggle" class="toc-h2 toc-link" data-title="TOGGLE">TOGGLE</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-designate_preset" class="toc-h2 toc-link" data-title="DESIGNATE_PRESET">DESIGNATE_PRESET</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-set_speed" class="toc-h2 toc-link" data-title="SET_SPEED">SET_SPEED</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-cycle_speed_up" class="toc-h2 toc-link" data-title="CYCLE_SPEED_UP">CYCLE_SPEED_UP</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-cycle_speed_down" class="toc-h2 toc-link" data-title="CYCLE_SPEED_DOWN">CYCLE_SPEED_DOWN</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-set_direction" class="toc-h2 toc-link" data-title="SET_DIRECTION">SET_DIRECTION</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-toggle_direction" class="toc-h2 toc-link" data-title="TOGGLE_DIRECTION">TOGGLE_DIRECTION</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-get_current_state" class="toc-h2 toc-link" data-title="GET_CURRENT_STATE">GET_CURRENT_STATE</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-get_state" class="toc-h2 toc-link" data-title="GET_STATE">GET_STATE</a>
                  </li>
                  <li>
                    <a href="#fan-proxy-commands-get_setup" class="toc-h2 toc-link" data-title="GET_SETUP">GET_SETUP</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-protocol-notifications" class="toc-h1 toc-link" data-title="Fan Protocol Notifications">Fan Protocol Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-protocol-notifications-current_speed" class="toc-h2 toc-link" data-title="CURRENT_SPEED">CURRENT_SPEED</a>
                  </li>
                  <li>
                    <a href="#fan-protocol-notifications-direction" class="toc-h2 toc-link" data-title="DIRECTION">DIRECTION</a>
                  </li>
                  <li>
                    <a href="#fan-protocol-notifications-preset_speed" class="toc-h2 toc-link" data-title="PRESET_SPEED">PRESET_SPEED</a>
                  </li>
                  <li>
                    <a href="#fan-protocol-notifications-on" class="toc-h2 toc-link" data-title="ON">ON</a>
                  </li>
                  <li>
                    <a href="#fan-protocol-notifications-off" class="toc-h2 toc-link" data-title="OFF">OFF</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-capabilities" class="toc-h1 toc-link" data-title="Fan Capabilities">Fan Capabilities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-capabilities-can_reverse" class="toc-h2 toc-link" data-title="can_reverse">can_reverse</a>
                  </li>
                  <li>
                    <a href="#fan-capabilities-can_set_preset" class="toc-h2 toc-link" data-title="can_set_preset">can_set_preset</a>
                  </li>
                  <li>
                    <a href="#fan-capabilities-discrete_levels" class="toc-h2 toc-link" data-title="discrete_levels">discrete_levels</a>
                  </li>
                  <li>
                    <a href="#fan-capabilities-preset_speed" class="toc-h2 toc-link" data-title="preset_speed">preset_speed</a>
                  </li>
                  <li>
                    <a href="#fan-capabilities-proxy_fan_speed_connections" class="toc-h2 toc-link" data-title="proxy_fan_speed_connections">proxy_fan_speed_connections</a>
                  </li>
                  <li>
                    <a href="#fan-capabilities-speed_names" class="toc-h2 toc-link" data-title="speed_names">speed_names</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-conditionals" class="toc-h1 toc-link" data-title="Fan Conditionals">Fan Conditionals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-conditionals-is-on" class="toc-h2 toc-link" data-title="Is On">Is On</a>
                  </li>
                  <li>
                    <a href="#fan-conditionals-is-off" class="toc-h2 toc-link" data-title="Is Off">Is Off</a>
                  </li>
                  <li>
                    <a href="#fan-conditionals-current-speed-equal-notequal" class="toc-h2 toc-link" data-title="Current Speed Equal/NotEqual">Current Speed Equal/NotEqual</a>
                  </li>
                  <li>
                    <a href="#fan-conditionals-is-reversed" class="toc-h2 toc-link" data-title="Is Reversed">Is Reversed</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-events" class="toc-h1 toc-link" data-title="Fan Events">Fan Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-events-fan-events" class="toc-h2 toc-link" data-title="Fan Events">Fan Events</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fan-variables" class="toc-h1 toc-link" data-title="Fan Variables">Fan Variables</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fan-variables-fan-variables" class="toc-h2 toc-link" data-title="Fan Variables">Fan Variables</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://snap-one.github.io/docs-driverworks-introduction/'>An Introduction to DriverWorks</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-fundamentals/'>DriverWorks Fundamentals Guide</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-api/'>DriverWorks API Reference Guide</a></li>
            <li><a href='https://github.com/snap-one/docs-driverworks'>DriverWorks GitHub Home</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='license-copyright-and-trademark'>License, Copyright, and Trademark</h1>

<p>The content contained in this repository is the intellectual property of Snap One, LLC, (formerly known as Wirepath Home Systems, LLC), and use without a valid license from Snap One is strictly prohibited. The user of this repository shall keep all content contained herein confidential and shall protect this content in whole or in part from disclosure to any and all third parties except as specifically authorized in writing by Snap One.</p>

<p><strong>License and Intellectual Property Disclaimer</strong></p>

<p>The content in this repository is provided in connection with Snap One products. No license, express or implied, by estoppal or otherwise, to any intellectual property rights is granted by this document or in this repository. Except as provided in Snap Oneʼs terms and conditions for the license of such products, Snap One and its affiliates assume no liability whatsoever and disclaim any express or implied warranty, relating to the sale and/or use of Snap One products including liability or warranties relating to fitness for a particular purpose, merchantability, or infringement of any patent, copyright or other intellectual property right. Snap One products are not intended for use in medical, lifesaving, or life sustaining applications.</p>

<p>Information regarding third-party products is provided solely for educational purposes. Snap One is not responsible for the performance or support of third-party products and does not make any representations or warranties whatsoever regarding the quality, reliability, functionality or compatibility of these products. The reader is advised that third parties can have intellectual property rights that can be relevant to this repository and the technologies discussed herein, and is advised to seek the advice of competent legal counsel regarding the intellectual property rights of third parties, without obligation of Snap One.</p>

<p>Snap One retains the right make changes to this repository or related product specifications and descriptions in this repository, at any time, without notice. Snap One makes no warranty for the use of this repository and assumes no responsibility for any errors that can appear in the repository nor does it make a commitment to update the content contained herein.</p>

<p><strong>Copyright</strong></p>

<p>Copyright 2024 Snap One, LLC. All rights reserved.</p>

<p>The above copyright notice applies to all content in this repository unless otherwise stated explicitly herein that a third-party’s copyright applies.</p>

<p>No part of this publication may be reproduced, photocopied, stored on a retrieval system, or transmitted without the express written consent of the publisher.</p>

<p><strong>Trademarks</strong></p>

<p>Snap One and Snap One Logo, Control4 and the Control4 logo, and DriverWorks are trademarks or registered trademarks of  Snap One, LLC. Other product and company names mentioned in this repository may be the trademarks or registered trademarks of their respective owners.</p>

<p><strong> Derivative Works</strong></p>

<p>To the extent that you create any “Derivative Work” (meaning any work that is based upon one or more preexisting versions of the work provided to you in this repository, such as an enhancement or modification, revision, translation, abridgement, condensation, expansion, collection, compilation or any other form in which such preexisting works may be recast, modified, transformed or adapted, explicitly including without limitation, any updates or changes to Snap One, LLC’s software code or intellectual property) such Derivative Work shall be owned by Snap One, LLC and all right, title and interest in and to each such Derivative Work shall automatically vest in Snap One, LLC. To the extent any Derivative Work does not automatically vest in Snap One, LLC by operation of law, you hereby assign such Derivative Work to Snap One, LLC with full title guarantee. Snap One, LLC shall have no obligation to grant you any right in any such Derivative Work.</p>

<p><strong>Contact Us</strong></p>

<p>Snap One, LLC
11734 S. Election Road
Salt Lake City, UT 84020 USA</p>

<p><a href="www.control4.com">http://www.control4.com</a></p>
<h1 id='introduction'>Introduction</h1>

<p>This documentation includes content that details the functions that make up the Fan Control Proxy which is supported in the DriverWorks Software Development Kit.</p>

<h2 id='introduction-proxies-commands'>Proxies (Commands)</h2>

<p>A proxy driver is an interface to the Control4 system for a set of devices that share common functionality. For instance, most fans have common controls such as ON, OFF and TOGGLE  The fan proxy allows for a common user interface to control all fans.  The Control4 system (Director) sends information to and receives information from the proxy drivers.  The proxy drivers send information to and receives information from the protocol drivers.
Remember, your DriverWorks driver interacts with the proxy driver which then interacts with the system.  As a driver developer you will be relying on this proxy to provide status (notification) to the Control4 system for the device you are controlling.  You will also receive commands from the system that you will act on to control the device.  These commands and notifications are at the heart of what you will be implementing in your driver.  Essentially your driver is becoming the go-between from the Control4 system and your device with the proxy driver giving structure to the commands and notifications which you will be implementing.
Your driver can facilitate communications with multiple types of proxies for a single device. As an example, a Security System driver will utilize both the Security proxy and the Contacts proxy. These additional proxies are configured in the &lt;connections&gt; section of the .c4z.</p>

<h2 id='introduction-protocol-notifications'>Protocol (Notifications)</h2>

<p>Two similar devices may have the same functionality but utilize a very different command set.  A protocol driver provides the device-specific information needed to communicate with the Control4 system.  In the case of DriverWorks, the DriverWorks driver is the protocol driver.  When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.  In the case of DriverWorks, the DriverWorks driver is the protocol driver. When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.</p>
<h1 id='what-s-new'>What’s New</h1>

<h2 id='what-s-new-what-s-new-in-3-4-2'>What’s New in 3.4.2</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.4.2.</p>

<h2 id='what-s-new-what-s-new-in-3-4-1'>What’s New in 3.4.1</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.4.1.</p>

<h2 id='what-s-new-what-s-new-in-3-4-0'>What’s New in 3.4.0</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.4.0.</p>

<h2 id='what-s-new-what-s-new-in-3-3-2'>What’s New in 3.3.2</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.3.2.</p>

<h2 id='what-s-new-what-s-new-in-3-3-1'>What’s New in 3.3.1</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.3.1.</p>

<h2 id='what-s-new-what-s-new-in-3-3-0'>What’s New in 3.3.0</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.3.0.</p>

<h2 id='what-s-new-what-s-new-in-3-2-3'>What’s New in 3.2.3</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.2.3.</p>

<h2 id='what-s-new-what-s-new-in-3-2-2'>What’s New in 3.2.2</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.2.2.</p>

<h2 id='what-s-new-what-s-new-in-3-2-1'>What’s New in 3.2.1</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.2.1.</p>

<h2 id='what-s-new-what-s-new-in-3-2-0'>What’s New in 3.2.0</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.2.0.</p>

<h2 id='what-s-new-what-was-new-in-3-1-2'>What was New in 3.1.2</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.1.2.</p>

<h2 id='what-s-new-what-was-new-in-3-1-0'>What was New in 3.1.0</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.1.0.</p>

<h2 id='what-s-new-what-was-new-in-o-s-3'>What was New in O.S.3</h2>

<p>There were no modifications to the Fan Proxy in conjunction with O.S. Release 3.0.0.</p>
<h1 id='fan-proxy-commands'>Fan Proxy Commands</h1>

<h2 id='fan-proxy-commands-on'>ON</h2>

<p>Turn the fan on to the designated preset level. Another possible behavior would be to turn it back on to the most recent on speed.</p>

<h3 id='fan-proxy-commands-on-name'>Name</h3>

<p><code>ON ()</code></p>

<h3 id='fan-proxy-commands-on-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-on-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-off'>OFF</h2>

<p>Turn the fan OFF.</p>

<h3 id='fan-proxy-commands-off-name'>Name</h3>

<p><code>OFF ()</code></p>

<h3 id='fan-proxy-commands-off-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-off-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-toggle'>TOGGLE</h2>

<p>If the fan is on, turn it off.  If the fan is off, do the same behavior as the ON command.</p>

<h3 id='fan-proxy-commands-toggle-name'>Name</h3>

<p><code>TOGGLE ()</code></p>

<h3 id='fan-proxy-commands-toggle-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-toggle-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-designate_preset'>DESIGNATE_PRESET</h2>

<p>Specifies which fan preset value should be the default one to go to when an ON or TOGGLE command is sent.</p>

<h3 id='fan-proxy-commands-designate_preset-name'>Name</h3>

<p><code>DESIGNATE_PRESET ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET</td>
<td>NUM</td>
<td>PRESET value. Valid values: 1 – N</td>
</tr>
</tbody></table>

<h3 id='fan-proxy-commands-designate_preset-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-set_speed'>SET_SPEED</h2>

<p>Set the current speed of the fan to the designated level.  Setting to 0 will turn the fan off.</p>

<h3 id='fan-proxy-commands-set_speed-name'>Name</h3>

<p><code>SET_SPEED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SPEED</td>
<td>NUM</td>
<td>SPEED valid values: 0 – N</td>
</tr>
</tbody></table>

<h3 id='fan-proxy-commands-set_speed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-cycle_speed_up'>CYCLE_SPEED_UP</h2>

<p>Bump the fan up to the next higher speed from its current setting. It would be up to the protocol driver to decide if it wraps or stops when we’re already at the highest speed.</p>

<h3 id='fan-proxy-commands-cycle_speed_up-name'>Name</h3>

<p><code>CYCLE_SPEED_UP ()</code></p>

<h3 id='fan-proxy-commands-cycle_speed_up-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-cycle_speed_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-cycle_speed_down'>CYCLE_SPEED_DOWN</h2>

<p>Bump the fan down to the next lower speed from its current setting. It would be up to the protocol driver to decide if it wraps or stops when the fan is currently off.</p>

<h3 id='fan-proxy-commands-cycle_speed_down-name'>Name</h3>

<p><code>CYCLE_SPEED_DOWN ()</code></p>

<h3 id='fan-proxy-commands-cycle_speed_down-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-cycle_speed_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-set_direction'>SET_DIRECTION</h2>

<p>Tell the fan which direction to spin.  This command would only be valid if the <code>can_reverse</code> capability is set to true in the driver file.</p>

<h3 id='fan-proxy-commands-set_direction-name'>Name</h3>

<p><code>SET_DIRECTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>str</td>
<td>“FORWARD” “REVERSE”</td>
</tr>
</tbody></table>

<h3 id='fan-proxy-commands-set_direction-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-toggle_direction'>TOGGLE_DIRECTION</h2>

<p>Reverse the direction which the fan is currently spinning.  This command would only be valid if the <code>can_reverse</code> capability is set to true in the driver file.</p>

<h3 id='fan-proxy-commands-toggle_direction-name'>Name</h3>

<p><code>TOGGLE_DIRECTION ()</code></p>

<h3 id='fan-proxy-commands-toggle_direction-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-toggle_direction-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-get_current_state'>GET_CURRENT_STATE</h2>

<p>Tell the protocol to report its current values. This wouldn’t be available through programming, but generated by the proxy to get its initial settings.</p>

<h3 id='fan-proxy-commands-get_current_state-name'>Name</h3>

<p><code>GET_CURRENT_STATE ()</code></p>

<h3 id='fan-proxy-commands-get_current_state-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-get_current_state-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-proxy-commands-get_state'>GET_STATE</h2>

<p>Command handled by the proxy driver.  Immediately returns a block of XML information to the caller. Reports the current state of the device.</p>

<h3 id='fan-proxy-commands-get_state-name'>Name</h3>

<p><code>GET_STATE ()</code></p>

<h3 id='fan-proxy-commands-get_state-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-get_state-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-get_state-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;fan_state&gt;</span>
  <span class="nt">&lt;current_speed&gt;</span>3<span class="nt">&lt;/current_speed&gt;</span>
  <span class="nt">&lt;is_reversed&gt;</span>false<span class="nt">&lt;/is_reversed&gt;</span>
<span class="nt">&lt;/fan_state&gt;</span>
</code></pre></div>
<h2 id='fan-proxy-commands-get_setup'>GET_SETUP</h2>
<p>Command handled by the proxy driver.  Immediately returns a block of XML information to the caller. Usually called just once by a UI entity to know how to setup the UI. This would report such things as how many settings the device has and what the name of those settings are.</p>
<h3 id='fan-proxy-commands-get_setup-name'>Name</h3>

<p><code>GET_SETUP ()</code></p>

<h3 id='fan-proxy-commands-get_setup-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-proxy-commands-get_setup-returns'>Returns</h3>

<p><code>None</code></p>

<p><h3 id='fan-proxy-commands-get_setup-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;fan_setup&gt;</span>
   <span class="nt">&lt;speeds_count&gt;</span>4<span class="nt">&lt;/speeds_count&gt;</span>
   <span class="nt">&lt;speed_names&gt;</span>Low,Low Medium,Medium High,High<span class="nt">&lt;/speed_names&gt;</span>
   <span class="nt">&lt;can_reverse&gt;</span>false<span class="nt">&lt;/can_reverse&gt;</span>
   <span class="nt">&lt;can_set_preset&gt;</span>true<span class="nt">&lt;/can_set_preset&gt;</span>
   <span class="nt">&lt;preset_speed&gt;</span>3<span class="nt">&lt;/preset_speed&gt;</span>
<span class="nt">&lt;/fan_setup&gt;</span>
</code></pre></div></p>
<h1 id='fan-protocol-notifications'>Fan Protocol Notifications</h1>

<h2 id='fan-protocol-notifications-current_speed'>CURRENT_SPEED</h2>

<p>Received from the protocol driver when the fan speed changes. This would also happen when the fan turned off because it would be set to speed 0.</p>

<h3 id='fan-protocol-notifications-current_speed-name'>Name</h3>

<p><code>CURRENT_SPEED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SPEED</td>
<td>INT</td>
<td>SPEED  valid values: 0 - N</td>
</tr>
</tbody></table>

<h3 id='fan-protocol-notifications-current_speed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-protocol-notifications-direction'>DIRECTION</h2>

<p>Received from the protocol driver when the fan direction changes.</p>

<h3 id='fan-protocol-notifications-direction-name'>Name</h3>

<p><code>DIRECTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>str</td>
<td>FORWARD/REVERSE</td>
</tr>
</tbody></table>

<h3 id='fan-protocol-notifications-direction-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-protocol-notifications-preset_speed'>PRESET_SPEED</h2>

<p>Received from the proxy when the preset speed changes. </p>

<h3 id='fan-protocol-notifications-preset_speed-name'>Name</h3>

<p><code>PRESET_SPEED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SPEED</td>
<td>INT</td>
<td>SPEED  valid values: 1 - N</td>
</tr>
</tbody></table>

<h3 id='fan-protocol-notifications-preset_speed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-protocol-notifications-on'>ON</h2>

<p>Received from the protocol when the power goes from off to on. The proxy would assume that the fan just went to its preset speed. Would not be required, but could be used if the fan only has one speed.</p>

<h3 id='fan-protocol-notifications-on-signature'>Signature</h3>

<p><code>ON ()</code></p>

<h3 id='fan-protocol-notifications-on-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-protocol-notifications-on-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='fan-protocol-notifications-off'>OFF</h2>

<p>Received from the protocol when the power goes from on to off.  Would not be required, but could be used if the fan only has one speed.</p>

<h3 id='fan-protocol-notifications-off-signature'>Signature</h3>

<p><code>OFF ()</code></p>

<h3 id='fan-protocol-notifications-off-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='fan-protocol-notifications-off-returns'>Returns</h3>

<p><code>None</code></p>
<h1 id='fan-capabilities'>Fan Capabilities</h1>

<h2 id='fan-capabilities-can_reverse'>can_reverse</h2><h3 id='fan-capabilities-can_reverse-signature'>Signature</h3>
<p><code>&lt;can_reverse&gt;&lt;/can_reverse&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>TRUE/FALSE. Defaults to False.</td>
</tr>
</tbody></table>
<h3 id='fan-capabilities-can_reverse-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;can_reverse&gt;</span>true<span class="nt">&lt;/can_reverse&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='fan-capabilities-can_set_preset'>can_set_preset</h2><h3 id='fan-capabilities-can_set_preset-signature'>Signature</h3>
<p><code>&lt;can_set_preset&gt;&lt;/can_set_preset&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>TRUE/FALSE. Defaults to False.</td>
</tr>
</tbody></table>
<h3 id='fan-capabilities-can_set_preset-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;can_set_preset&gt;</span>true<span class="nt">&lt;/an_set_preset&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='fan-capabilities-discrete_levels'>discrete_levels</h2><h3 id='fan-capabilities-discrete_levels-signature'>Signature</h3>
<p><code>&lt;discrete_levels&gt;&lt;/discrete_levels&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>0 to N. Defaults to 1. A count of 0 would mean that the speeds are analog rather than discreet.</td>
</tr>
</tbody></table>
<h3 id='fan-capabilities-discrete_levels-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;discrete_levels&gt;</span>1<span class="nt">&lt;/discrete_levels&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='fan-capabilities-preset_speed'>preset_speed</h2><h3 id='fan-capabilities-preset_speed-signature'>Signature</h3>
<p><code>&lt;preset_speed&gt;&lt;/preset_speed&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>1 to N. Defaults to the highest available speed.</td>
</tr>
</tbody></table>
<h3 id='fan-capabilities-preset_speed-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;preset_speed&gt;</span>1<span class="nt">&lt;/preset_speed&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='fan-capabilities-proxy_fan_speed_connections'>proxy_fan_speed_connections</h2>

<p>This capability is applicable to newer fan drivers which create BUTTON_LINK connections dynamically in association with fan speeds in the fan proxy. Setting this capability to true simply enables this ability. It relies on two other capabilities to successfully implement the dynamic connection functionality. They include: discreet_levels and speed_name.</p>

<p><h6 id='fan-capabilities-proxy_fan_speed_connections-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='fan-capabilities-proxy_fan_speed_connections-signature'>Signature</h3>
<p><code>&lt;proxy_fan_speed_connections&gt;&lt;/proxy_fan_speed_connections&gt;</code></p></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>True = Creates BUTTON LINK connections dynamically.</td>
</tr>
</tbody></table>

<h3 id='fan-capabilities-proxy_fan_speed_connections-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;proxy_fan_speed_connections&gt;</span>true<span class="nt">&lt;/proxy_fan_speed_connections&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='fan-capabilities-speed_names'>speed_names</h2><h3 id='fan-capabilities-speed_names-signature'>Signature</h3>

<p><code>&lt;speed_names&gt;&lt;/speed_names&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Default for 1 is “On”</td>
</tr>
<tr>
<td>num</td>
<td>Default for 2 is “Low,High”</td>
</tr>
<tr>
<td>num</td>
<td>Default for 3 is “Low,Medium,High”</td>
</tr>
<tr>
<td>num</td>
<td>Default for 4 is “Low,Medium Low,Medium High,High”</td>
</tr>
<tr>
<td>num</td>
<td>Default for 5 is “Low,Medium Low,Medium,Medium High,High”</td>
</tr>
<tr>
<td>num</td>
<td>Default for &gt;5 is ““Level 1,Level2, … Level N”</td>
</tr>
</tbody></table>

<p><h3 id='fan-capabilities-speed_names-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;speed_names&gt;</span>3<span class="nt">&lt;/speed_names&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div></p>
<h1 id='fan-conditionals'>Fan Conditionals</h1>

<h2 id='fan-conditionals-is-on'>Is On</h2><h3 id='fan-conditionals-is-on-parameters'>Parameters</h3>
<p><code>None</code></p>
<h3 id='fan-conditionals-is-on-returns'>Returns</h3>
<p>Returns true if the fan is on at any speed.</p>

<h2 id='fan-conditionals-is-off'>Is Off</h2><h3 id='fan-conditionals-is-off-parameters'>Parameters</h3>
<p><code>None</code></p>
<h3 id='fan-conditionals-is-off-returns'>Returns</h3>
<p>Returns true if the fan is off.</p>

<h2 id='fan-conditionals-current-speed-equal-notequal'>Current Speed Equal/NotEqual</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>SPEED value</td>
</tr>
</tbody></table>

<h3 id='fan-conditionals-current-speed-equal-notequal-returns'>Returns</h3>

<p>True if the current speed is equal to (or not equal) to the reference number</p>

<p><h2 id='fan-conditionals-is-reversed'>Is Reversed</h2><h3 id='fan-conditionals-is-reversed-parameters'>Parameters</h3>
<p><code>None</code></p>
<h3 id='fan-conditionals-is-reversed-returns'>Returns</h3>
<p>Return true if the fan is spinning in reverse. This would only be available if the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#fan-capabilities-can_reverse"><code>can_reverse</code></a> capability is set to true in the driver file.</p></p>
<h1 id='fan-events'>Fan Events</h1>

<h2 id='fan-events-fan-events'>Fan Events</h2>

<p>The following Events are supported by the Fan Proxy. The events fired by the proxy have to deal with changes in the fan itself. They include:</p>

<p><code>turned_on</code> - Fired when the power goes from off to on.</p>

<p><code>turned_off</code> - Fired when the power goes from on to off.</p>

<p><code>speed_changed</code> - Fired when the speed number changes. Since turning on or off also involves a change of speed this would also fire when the fan turns on or off.</p>

<p><code>direction_changed</code> - Fired when the fan spin direction changes. This would only be available if the <code>can_reverse</code> capability is set to true in the driver file.</p>
<h1 id='fan-variables'>Fan Variables</h1>

<h2 id='fan-variables-fan-variables'>Fan Variables</h2>

<p>The following Variables are supported by the Fan Proxy. They include:</p>

<p>Is On  - Boolean: Read/Write</p>

<p>Current Selected Speed  - Unsigned Long: Read/Write</p>

<p>Is Reversed  - Boolean: Read/Write</p>

<p>Current Preset- Unsigned Long: Read/Write</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="lua">lua</a>
          </div>
      </div>
    </div>
  </body>
</html>
